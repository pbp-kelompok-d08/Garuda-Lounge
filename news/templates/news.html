{% extends 'base_after_login.html' %}
{% load static %}

{% block content %}
<div class="content" style="position: relative;">

    <!-- Tombol Back di pojok kiri atas -->
    <div style="position: absolute; top: 10px; left: 20px;">
        <a href="{% url 'main:show_main' %}">
            <button style="
                background-color: #a4161a;
                color: white;
                border: none;
                padding: 8px 14px;
                border-radius: 8px;
                font-weight: 600;
                cursor: pointer;
                transition: 0.3s;
            "
            onmouseover="this.style.backgroundColor='#6e0f11'"
            onmouseout="this.style.backgroundColor='#a4161a'">
                ‚Üê Back to Main Page
            </button>
        </a>
    </div>

    <!-- Judul -->
    <h1 style="text-align: center; color: #a4161a; margin-top: 50px;">
        Garuda Lounge News
    </h1>

    <!-- Tombol Tambah Berita -->
    <div style="text-align: center; margin: 20px 0;">
        <a href="{% url 'news:create_news' %}">
            <button style="
                background-color: #a4161a;
                color: white;
                border: none;
                padding: 10px 16px;
                border-radius: 8px;
                font-weight: 600;
                cursor: pointer;
                transition: 0.3s;
            "
            onmouseover="this.style.backgroundColor='#6e0f11'"
            onmouseout="this.style.backgroundColor='#a4161a'">
                + Tambah Berita
            </button>
        </a>
    </div>

    <!-- Daftar berita -->
    {% if not news_list %}
        <p style="text-align: center;">Belum ada berita saat ini.</p>
    {% else %}
        {% for news in news_list %}
        <div style="text-align: center; margin-bottom: 30px;">
            <h2><a href="{% url 'news:show_news_detail' news.id %}" style="color: #222; text-decoration: none;">
                {{ news.title }}
            </a></h2>
            <p><i>{{ news.created_at|date:"d M Y H:i" }}</i></p>
            {% if news.thumbnail %}
                <img src="{{ news.thumbnail }}" alt="thumbnail" width="200" height="120" style="border-radius: 10px;">
            {% endif %}
            <p>{{ news.content|truncatewords:25 }}...</p>
            <a href="{% url 'news:show_news_detail' news.id %}">
                <button style="background-color: #a4161a; color: white; border: none; padding: 6px 12px; border-radius: 6px;">Read More</button>
            </a>
        </div>
        <hr style="width: 60%; margin: auto;">
        {% endfor %}
    {% endif %}

</div>
{% endblock %}
