{% load static %}
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{% block title %}Garuda Lounge{% endblock %}</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --cream: #e7e2db;
      --red: #a4161a;
      --dark-red: #7f0f12;
      --black: #111111;
      --white: #ffffff;
    }
    body { font-family: 'Poppins', sans-serif; background-color: var(--cream); margin:0; color:var(--black); }

    /* Navbar */
    header { background:#f5f2ee; box-shadow:0 2px 5px rgba(0,0,0,.05); position:sticky; top:0; z-index:10; }
    nav { display:flex; justify-content:space-between; align-items:center; padding:12px 60px; }
    .nav-left { display:flex; align-items:center; gap:10px; }
    .nav-left img { width:36px; height:36px; object-fit:contain; }
    .nav-left span { color:var(--red); font-weight:700; font-size:18px; }

    .nav-menu { display:flex; gap:24px; font-size:14px; align-items:center; }
    .nav-menu a { position:relative; text-decoration:none; color:var(--black); font-weight:500; transition:color .3s; }
    .nav-menu a::after { content:""; position:absolute; bottom:-4px; left:0; width:0; height:2px; background:var(--red); transition:width .3s ease-in-out; }
    .nav-menu a:hover { color:var(--red); }
    .nav-menu a:hover::after { width:100%; }
    .nav-menu .active { color:var(--red); }
    .nav-menu .active::after { width:100%; }

    .nav-right { display:flex; align-items:center; gap:16px; }
    .profile-section { display:flex; align-items:center; gap:8px; background:var(--white); padding:6px 12px; border-radius:20px; font-weight:600; color:var(--red);
                       box-shadow:0 2px 4px rgba(0,0,0,.05); transition:transform .2s, box-shadow .2s, background-color .2s; cursor:pointer; }
    .profile-section:hover { transform:translateY(-2px); box-shadow:0 3px 8px rgba(0,0,0,.1); background-color:#a4161a10; }
    .profile-section img { width:28px; height:28px; border-radius:50%; object-fit:cover; }
    .logout-btn { background:var(--red); color:var(--white); border:none; border-radius:6px; padding:6px 12px; font-weight:600; cursor:pointer; transition:background .3s, transform .2s; }
    .logout-btn:hover { background:var(--dark-red); transform:scale(1.05); }

    /* Subbar (opsional) */
    .subbar { display:flex; align-items:center; padding:10px 60px 0; gap:10px; }
    .btn-back { display:inline-flex; align-items:center; gap:6px; font-size:13px; font-weight:600; color:#fff; background:#a4161a; border:none; border-radius:6px; padding:6px 10px; text-decoration:none; transition:background .2s ease, transform .15s ease; }
    .btn-back:hover { background:#7f0f12; transform:translateY(-1px); }

    main { padding:40px; }
  </style>

  {% block extra_head %}{% endblock %}
</head>
<body>

  <!-- NAVBAR -->
  <header>
    <nav>
      <!-- kiri -->
      <div class="nav-left">
        <img src="{% static 'images/garuda_logo.png' %}" alt="GarudaLounge Logo" />
        <span>GarudaLounge</span>
      </div>

      <!-- tengah -->
      <div class="nav-menu">
        <a href="/match/">match</a>
        <a href="{% url 'ProfileAktif:show_main' %}">pemain</a>
        <a href="/merch/">merch</a>
        <!-- base ini khusus halaman News, jadi tandai aktif -->
        <a href="{% url 'news:show_news_main' %}" class="active">news</a>
        <a href="/legend/">legend</a>
      </div>

      <!-- kanan -->
      <div class="nav-right">
        {% if request.user.is_authenticated %}
          <div class="profile-section">
            <img src="https://cdn-icons-png.flaticon.com/512/1077/1077114.png" alt="user" />
            <span>{{ request.user.username }}</span>
          </div>
          <form action="{% url 'main:logout_user' %}" method="post" style="margin:0;">
            {% csrf_token %}
            <button class="logout-btn">Logout</button>
          </form>
        {% else %}
          <a href="/login/" class="logout-btn" style="text-decoration:none;">Login</a>
        {% endif %}
      </div>
    </nav>
  </header>

{% block subbar %}
  <div class="subbar">
    {% if request.resolver_match.url_name == 'show_news_main' %}
      <a href="{% url 'main:show_main' %}" class="btn-back">← Back to Main Page</a>
    {% elif request.resolver_match.url_name == 'show_news_detail' %}
      <a href="{% url 'news:show_news_main' %}" class="btn-back">← Back to News</a>
    {% endif %}
  </div>
{% endblock %}

  <!-- KONTEN -->
  <main>
    {% block content %}{% endblock %}
  </main>

  {% block extra_scripts %}{% endblock %}
</body>
</html>